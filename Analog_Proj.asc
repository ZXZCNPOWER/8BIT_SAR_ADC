Version 4
SHEET 1 4744 2260
WIRE 16 -192 -240 -192
WIRE 320 -192 16 -192
WIRE 640 -192 320 -192
WIRE 944 -192 640 -192
WIRE 1264 -192 944 -192
WIRE 1632 -192 1264 -192
WIRE 2016 -192 1632 -192
WIRE 2400 -192 2016 -192
WIRE 2752 -192 2400 -192
WIRE 3184 -192 2752 -192
WIRE -192 -128 -336 -128
WIRE 144 -128 -192 -128
WIRE 464 -128 144 -128
WIRE 768 -128 464 -128
WIRE 1088 -128 768 -128
WIRE 1440 -128 1088 -128
WIRE 1840 -128 1440 -128
WIRE 2240 -128 1840 -128
WIRE 2624 -128 2240 -128
WIRE -336 -112 -336 -128
WIRE 16 -32 16 -192
WIRE 320 -32 320 -192
WIRE 640 -32 640 -192
WIRE 944 -32 944 -192
WIRE 1264 -32 1264 -192
WIRE 1632 -32 1632 -192
WIRE 2016 -32 2016 -192
WIRE 2400 -32 2400 -192
WIRE 2752 -32 2752 -192
WIRE 1632 -16 1632 -32
WIRE 240 16 176 16
WIRE 560 16 480 16
WIRE 864 16 800 16
WIRE 1184 16 1120 16
WIRE 1552 16 1472 16
WIRE 1936 16 1824 16
WIRE 2320 16 2208 16
WIRE 2672 16 2576 16
WIRE 128 48 112 48
WIRE 176 48 176 16
WIRE 176 48 128 48
WIRE 448 48 416 48
WIRE 480 48 480 16
WIRE 480 48 448 48
WIRE 752 48 736 48
WIRE 800 48 800 16
WIRE 800 48 752 48
WIRE 1072 48 1040 48
WIRE 1120 48 1120 16
WIRE 1120 48 1072 48
WIRE 1408 48 1360 48
WIRE 1472 48 1472 16
WIRE 1472 48 1408 48
WIRE 1776 48 1728 48
WIRE 1824 48 1824 16
WIRE 1824 48 1776 48
WIRE 2176 48 2112 48
WIRE 2208 48 2208 16
WIRE 2208 48 2176 48
WIRE 2544 48 2496 48
WIRE 2576 48 2576 16
WIRE 2576 48 2544 48
WIRE 3056 48 2848 48
WIRE -64 64 -144 64
WIRE 240 64 208 64
WIRE 560 64 512 64
WIRE 864 64 832 64
WIRE 1184 64 1152 64
WIRE 1552 64 1520 64
WIRE 1936 64 1888 64
WIRE 1952 64 1936 64
WIRE 2320 64 2272 64
WIRE 2336 64 2320 64
WIRE 2672 64 2608 64
WIRE -64 112 -112 112
WIRE 144 112 144 -128
WIRE 240 112 144 112
WIRE 464 112 464 -128
WIRE 560 112 464 112
WIRE 768 112 768 -128
WIRE 864 112 768 112
WIRE 1088 112 1088 -128
WIRE 1184 112 1088 112
WIRE 1440 112 1440 -128
WIRE 1552 112 1440 112
WIRE 1840 112 1840 -128
WIRE 1936 112 1840 112
WIRE 2240 112 2240 -128
WIRE 2320 112 2240 112
WIRE 2624 112 2624 -128
WIRE 2672 112 2624 112
WIRE -192 160 -192 -128
WIRE -64 160 -192 160
WIRE 240 160 176 160
WIRE 560 160 480 160
WIRE 864 160 784 160
WIRE 1184 160 1104 160
WIRE 1552 160 1488 160
WIRE 1936 160 1808 160
WIRE 2320 160 2208 160
WIRE 2672 160 2640 160
WIRE -144 256 -144 64
WIRE -144 256 -256 256
WIRE 208 256 208 64
WIRE 208 256 -144 256
WIRE 512 256 512 64
WIRE 512 256 208 256
WIRE 832 256 832 64
WIRE 832 256 512 256
WIRE 1152 256 1152 64
WIRE 1152 256 832 256
WIRE 1520 256 1520 64
WIRE 1520 256 1152 256
WIRE 1888 256 1888 64
WIRE 1888 256 1520 256
WIRE 2272 256 2272 64
WIRE 2272 256 1888 256
WIRE 2608 256 2608 64
WIRE 2608 256 2272 256
WIRE 4208 352 3936 352
WIRE -112 368 -112 112
WIRE -112 368 -288 368
WIRE 176 368 176 160
WIRE 176 368 -112 368
WIRE 480 368 480 160
WIRE 480 368 176 368
WIRE 784 368 784 160
WIRE 784 368 480 368
WIRE 1104 368 1104 160
WIRE 1104 368 784 368
WIRE 1488 368 1488 160
WIRE 1488 368 1104 368
WIRE 1808 368 1808 160
WIRE 1808 368 1488 368
WIRE 2208 368 2208 160
WIRE 2208 368 1808 368
WIRE 2640 368 2640 160
WIRE 2640 368 2208 368
WIRE 3184 432 3184 -192
WIRE 4208 432 4208 352
WIRE 448 464 448 48
WIRE 448 464 368 464
WIRE 1072 480 1072 48
WIRE 1072 480 1024 480
WIRE 3104 480 2944 480
WIRE 128 496 128 48
WIRE 128 496 -16 496
WIRE 1408 496 1408 48
WIRE 1408 496 1376 496
WIRE 4464 496 4464 480
WIRE 4464 496 4320 496
WIRE 1776 512 1776 48
WIRE 1776 512 1696 512
WIRE 2944 512 2944 480
WIRE 2944 512 2880 512
WIRE 3424 512 3280 512
WIRE 752 528 752 48
WIRE 752 528 672 528
WIRE 2176 528 2176 48
WIRE 2176 528 2064 528
WIRE 2944 528 2944 512
WIRE 3104 528 2944 528
WIRE 2544 544 2544 48
WIRE 2544 544 2400 544
WIRE 3056 576 3056 48
WIRE 3104 576 3056 576
WIRE 144 592 -208 592
WIRE 496 592 144 592
WIRE 800 592 496 592
WIRE 1136 592 800 592
WIRE 1520 592 1136 592
WIRE 1872 592 1520 592
WIRE 2240 592 1872 592
WIRE 2608 592 2240 592
WIRE 3104 624 2944 624
WIRE 16 640 -416 640
WIRE 320 640 16 640
WIRE 640 640 320 640
WIRE 976 640 640 640
WIRE 1408 640 976 640
WIRE 1744 640 1408 640
WIRE 2112 640 1744 640
WIRE 2480 640 2112 640
WIRE 144 688 144 592
WIRE 496 688 496 592
WIRE 800 688 800 592
WIRE 1136 688 1136 592
WIRE 1520 688 1520 592
WIRE 1872 688 1872 592
WIRE 2240 688 2240 592
WIRE 2608 688 2608 592
WIRE 1408 704 1408 640
WIRE 16 736 16 640
WIRE 64 736 16 736
WIRE 320 736 320 640
WIRE 416 736 320 736
WIRE 640 736 640 640
WIRE 720 736 640 736
WIRE 976 736 976 640
WIRE 1056 736 976 736
WIRE 1408 736 1408 704
WIRE 1440 736 1408 736
WIRE 1744 736 1744 640
WIRE 1792 736 1744 736
WIRE 2112 736 2112 640
WIRE 2160 736 2112 736
WIRE 2480 736 2480 640
WIRE 2528 736 2480 736
WIRE 3856 752 3824 752
WIRE 3872 752 3856 752
WIRE 272 768 240 768
WIRE 624 768 592 768
WIRE 928 768 896 768
WIRE 1264 768 1232 768
WIRE 1648 768 1616 768
WIRE 1664 768 1648 768
WIRE 1984 768 1968 768
WIRE 2352 768 2336 768
WIRE 2768 768 2704 768
WIRE 64 784 -48 784
WIRE 416 784 304 784
WIRE 720 784 640 784
WIRE 1056 784 960 784
WIRE 1440 784 1296 784
WIRE 1792 784 1744 784
WIRE 2160 784 2096 784
WIRE 2176 784 2160 784
WIRE 2528 784 2448 784
WIRE 3824 784 3824 752
WIRE 4112 800 3920 800
WIRE -16 832 -16 496
WIRE 64 832 -16 832
WIRE 368 832 368 464
WIRE 416 832 368 832
WIRE 672 832 672 528
WIRE 720 832 672 832
WIRE 1024 832 1024 480
WIRE 1056 832 1024 832
WIRE 1376 832 1376 496
WIRE 1408 832 1376 832
WIRE 1440 832 1408 832
WIRE 1696 832 1696 512
WIRE 1792 832 1696 832
WIRE 2064 832 2064 528
WIRE 2160 832 2064 832
WIRE 2400 832 2400 544
WIRE 2528 832 2400 832
WIRE 2400 848 2400 832
WIRE 3856 848 3856 752
WIRE 3872 848 3856 848
WIRE 64 880 -16 880
WIRE 416 880 352 880
WIRE 720 880 672 880
WIRE 1056 880 992 880
WIRE 1440 880 1360 880
WIRE 1792 880 1696 880
WIRE 2160 880 2016 880
WIRE 2528 880 2384 880
WIRE 4112 880 4112 800
WIRE 4160 992 4160 928
WIRE 4352 992 4160 992
WIRE 4416 992 4352 992
WIRE 2448 1008 2448 784
WIRE 3424 1008 3424 512
WIRE 3424 1008 2448 1008
WIRE 4064 1008 4064 928
WIRE 304 1056 304 784
WIRE 928 1056 928 768
WIRE 928 1056 304 1056
WIRE 960 1056 960 784
WIRE 1664 1056 1664 768
WIRE 1664 1056 960 1056
WIRE 1744 1056 1744 784
WIRE 2352 1056 2352 768
WIRE 2352 1056 1744 1056
WIRE 4064 1056 4064 1008
WIRE 4160 1056 4160 992
WIRE 3568 1072 3568 1056
WIRE -48 1104 -48 784
WIRE 624 1104 624 768
WIRE 624 1104 -48 1104
WIRE 640 1104 640 784
WIRE 1264 1104 1264 768
WIRE 1264 1104 640 1104
WIRE 1296 1104 1296 784
WIRE 1984 1104 1984 768
WIRE 1984 1104 1296 1104
WIRE 2096 1104 2096 784
WIRE 2768 1104 2768 768
WIRE 2768 1104 2096 1104
WIRE -256 1152 -256 912
WIRE -16 1152 -16 880
WIRE -16 1152 -256 1152
WIRE 352 1152 352 880
WIRE 352 1152 -16 1152
WIRE 672 1152 672 880
WIRE 672 1152 352 1152
WIRE 992 1152 992 880
WIRE 992 1152 672 1152
WIRE 1360 1152 1360 880
WIRE 1360 1152 992 1152
WIRE 1696 1152 1696 880
WIRE 1696 1152 1360 1152
WIRE 2016 1152 2016 880
WIRE 2016 1152 1696 1152
WIRE 2384 1152 2384 880
WIRE 2384 1152 2016 1152
WIRE 2944 1152 2944 624
WIRE 2944 1152 2384 1152
WIRE 992 1168 992 1152
WIRE 3568 1168 3568 1152
WIRE 272 1296 272 768
WIRE 624 1408 624 1104
WIRE 1664 1408 1664 1056
WIRE 1984 1424 1984 1104
WIRE 2352 1424 2352 1056
WIRE 2768 1424 2768 1104
WIRE 928 1440 928 1056
WIRE 1264 1440 1264 1104
WIRE 928 1456 928 1440
WIRE 928 1456 800 1456
WIRE 1264 1616 1264 1440
WIRE 1264 1616 896 1616
WIRE 272 1760 272 1296
WIRE 960 1760 272 1760
WIRE 1344 1760 1184 1760
WIRE 624 1792 624 1408
WIRE 960 1792 624 1792
WIRE 800 1824 800 1456
WIRE 960 1824 800 1824
WIRE 1264 1824 1184 1824
WIRE 896 1856 896 1616
WIRE 960 1856 896 1856
WIRE 1280 1856 1184 1856
WIRE 960 1888 400 1888
WIRE 1264 1904 1184 1904
WIRE 1280 1904 1264 1904
WIRE 960 1920 752 1920
WIRE 1344 1920 1344 1760
WIRE 1264 1936 1184 1936
WIRE 960 1952 0 1952
WIRE 960 1984 192 1984
WIRE 752 2048 752 1920
WIRE 1984 2048 1984 1424
WIRE 1984 2048 752 2048
WIRE 400 2096 400 1888
WIRE 1664 2096 1664 1408
WIRE 1664 2096 400 2096
WIRE 192 2144 192 1984
WIRE 2768 2144 2768 1424
WIRE 2768 2144 192 2144
WIRE 0 2256 0 1952
WIRE 2352 2256 2352 1424
WIRE 2352 2256 0 2256
FLAG -64 16 0
FLAG -240 -192 VDD
FLAG -256 256 CLK
FLAG -288 368 RESET
FLAG -336 -112 0
FLAG -208 592 VDD
FLAG 2880 512 0
FLAG -256 912 RESET
FLAG -416 640 D
FLAG 2768 1424 B0
FLAG 2352 1424 B1
FLAG 1984 1424 B2
FLAG 1664 1408 B3
FLAG 1264 1440 B4
FLAG 928 1440 B5
FLAG 624 1408 B6
FLAG 272 1296 B7
FLAG 1408 832 tp01
FLAG 1408 704 tp02
FLAG 1648 768 tp03
FLAG -944 992 RESET
FLAG -944 704 VDD
FLAG -944 784 0
FLAG -944 1072 0
FLAG -912 128 CLK
FLAG -912 208 0
FLAG 1184 1792 VDD
FLAG 1344 2000 0
FLAG 3712 640 0
FLAG 3712 560 VIN
FLAG 4160 496 COMPIN
FLAG 1264 1904 DACout
FLAG 4304 1040 0
FLAG 4352 1040 0
FLAG 4400 1040 0
FLAG 3568 1056 10KSIG
FLAG 3824 784 10KSIG
FLAG 3568 1168 0
FLAG 4112 1104 10KSIG
FLAG 4112 1056 0
FLAG 4112 928 VDD
FLAG 3920 896 0
FLAG 3920 704 VDD
FLAG 3920 752 VDD
FLAG 3920 848 0
FLAG 4064 1008 VIN
FLAG 4416 992 COMPIN
FLAG 3936 432 0
FLAG 4464 480 D
FLAG 4160 528 DACout
SYMBOL D_FlipFlop 16 112 R0
SYMATTR InstName X1
SYMBOL D_FlipFlop 320 112 R0
SYMATTR InstName X2
SYMBOL D_FlipFlop 640 112 R0
SYMATTR InstName X3
SYMBOL D_FlipFlop 944 112 R0
SYMATTR InstName X4
SYMBOL D_FlipFlop 1264 112 R0
SYMATTR InstName X5
SYMBOL D_FlipFlop 1632 112 R0
SYMATTR InstName X6
SYMBOL D_FlipFlop 2016 112 R0
SYMATTR InstName X7
SYMBOL D_FlipFlop 2400 112 R0
SYMATTR InstName X8
SYMBOL D_FlipFlop 2752 112 R0
SYMATTR InstName X9
SYMBOL D_FlipFlop 3184 576 R0
SYMATTR InstName X10
SYMBOL D_FlipFlop 144 832 R0
SYMATTR InstName X11
SYMBOL D_FlipFlop 496 832 R0
SYMATTR InstName X12
SYMBOL D_FlipFlop 800 832 R0
SYMATTR InstName X13
SYMBOL D_FlipFlop 1136 832 R0
SYMATTR InstName X14
SYMBOL D_FlipFlop 1520 832 R0
SYMATTR InstName X15
SYMBOL D_FlipFlop 1872 832 R0
SYMATTR InstName X16
SYMBOL D_FlipFlop 2240 832 R0
SYMATTR InstName X17
SYMBOL D_FlipFlop 2608 832 R0
SYMATTR InstName X18
SYMBOL voltage -944 688 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 1.8
SYMBOL voltage -944 976 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value PULSE(0 1.8 0 0.01u 0.01u 3u 90u)
SYMBOL voltage -912 112 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 1.8 0 0.01u 0.01u 6u 10u 100)
SYMBOL R2R 1056 1936 M180
SYMATTR InstName X20
SYMBOL voltage 1344 1904 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V6
SYMATTR Value 1
SYMBOL voltage 3712 544 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V3
SYMATTR Value PWL(0 0 3u 0 1003u 1)
SYMBOL pmos_035 4160 880 R90
SYMATTR InstName M1
SYMATTR Value2 l=0.35u w=15u
SYMATTR SpiceLine ""
SYMBOL nmos_035 4064 1104 R270
SYMATTR InstName M2
SYMATTR Value2 l=0.35u w=5u
SYMATTR SpiceLine ""
SYMBOL nmos_035 4400 992 R90
SYMATTR InstName M3
SYMATTR Value2 l=100u w=100u
SYMATTR SpiceLine ""
SYMBOL voltage 3568 1056 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V5
SYMATTR Value PULSE(0 1.8 0 1u 1u 3u 90u 100)
SYMBOL pmos_035 3872 704 R0
SYMATTR InstName M4
SYMBOL nmos_035 3872 800 R0
SYMATTR InstName M5
SYMBOL voltage 3936 336 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V7
SYMATTR Value 1.8
SYMBOL Comp 4256 464 R0
SYMATTR InstName X21
TEXT -896 448 Left 2 !.lib cmos_035.lib
TEXT -912 536 Left 2 !.tran 1ms
TEXT 4424 368 Left 2 ;p - +ve terminal - input\nn - -ve terminal
